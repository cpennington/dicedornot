"use strict";var stats={calculateStats:function calculateStats(a,b){for(var c=Math.max,d=Math.min,e={standard:{diceType:1,0:{total:0,histogram:[0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0]},expected:[1/6,1/6,1/6,1/6,1/6,1/6]},scatter:{diceType:2,0:{total:0,histogram:[0,0,0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0,0,0]},expected:[1/8,1/8,1/8,1/8,1/8,1/8,1/8,1/8]},block:{diceType:0,0:{total:0,histogram:[0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0]},expected:[1/6,1/6,2/6,1/6,1/6]},"1db":{diceType:0,0:{total:0,histogram:[0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0]},expected:[1/6,1/6,2/6,1/6,1/6]},"2db":{diceType:-1,0:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},expected:[1/36,2/36,4/36,2/36,2/36,1/36,4/36,2/36,2/36,4/36,4/36,4/36,1/36,2/36,1/36]},armour:{diceType:3,0:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0]},expected:[1/36,2/36,3/36,4/36,5/36,6/36,5/36,4/36,3/36,2/36,1/36]},injury:{diceType:4,0:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0,0,0,0,0,0]},expected:[1/36,2/36,3/36,4/36,5/36,6/36,5/36,4/36,3/36,2/36,1/36]},casualty:{diceType:5,0:{total:0,histogram:[0,0,0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0,0,0]},expected:[.5,1/6,2/48,2/48,2/48,1/48,1/48,1/6]},2:{diceType:1,0:{total:0,histogram:[0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0]},expected:[1/6,1/6,1/6,1/6,1/6,1/6]}},f=0;f<a.length;f++){var g=a[f],h=g.team;g.player in b&&(h=b[g.player].teamId);var l=g.rollType,m=rollTypeIdToDiceType(l);if(null!==m){if(3==m){for(var n=0,o=0;o<g.dice.length;o++)n+=g.dice[o]-1;e.armour[h].total++,e.armour[h].histogram[n]++}else if(4==m){for(var n=0,o=0;o<g.dice.length;o++)n+=g.dice[o]-1;e.injury[h].total++,e.injury[h].histogram[n]++}else if(5==m){var p=casualtyDiceToResult(g.dice);null!==p&&(e.casualty[h].total++,e.casualty[h].histogram[p]++)}else if(null!==m)for(var o=0;o<g.dice.length;o++){var q,r=g.dice[o];0==m?q=e.block[h]:1==m||7==m?(r--,q=e.standard[h]):2==m&&(r--,q=e.scatter[h]),q&&(q.total++,q.histogram[r]++)}if(0===m){if(1==g.dice.length){var r=g.dice[0];e["1db"][h].total++,e["1db"][h].histogram[r]++}else if(2==g.dice.length){for(var s=d(g.dice[0],g.dice[1]),t=c(g.dice[0],g.dice[1]),u=0,v=s;0<v;v--)u+=v;var r=5*s+t-u;e["2db"][h].total++,e["2db"][h].histogram[r]++}}else if(1==m)if(1<g.dice.length);else{initStats(e,l);var r=g.dice[0]-1;e[l][h].total++,e[l][h].histogram[r]++}}}return e}};function injuryDiceToResult(a){if(2!=a.length)return null;var b=a[0]+a[1];return 8>b?0:10>b?1:2}function casualtyDiceToResult(a){return 1==a.length?38>=a[0]?0:48>=a[0]?1:52>=a[0]?2:54>=a[0]?3:56>=a[0]?4:57>=a[0]?5:58>=a[0]?6:7:null}function initStats(a,b){if(!(b in a)){var c=rollTypeIdToDiceType(b);1==c&&(a[b]={diceType:1,expected:[1/6,1/6,1/6,1/6,1/6,1/6],0:{total:0,histogram:[0,0,0,0,0,0]},1:{total:0,histogram:[0,0,0,0,0,0]}})}}function rollTypeIdToDiceType(a){return-2===a?2:-1===a?6:1===a?1:2===a?1:3===a?3:4===a?4:5===a?0:6===a?1:7===a?1:8===a?5:9===a?1:10===a?2:11===a?7:12===a?1:16===a?1:17===a?1:20===a?1:21===a?1:22===a?1:23===a?1:24===a?1:26===a?2:29===a?1:27===a?1:31===a?1:34===a?3:36===a?1:37===a?1:40===a?1:42===a?1:46===a?1:54===a?1:55===a?1:56===a?1:58===a?2:null}