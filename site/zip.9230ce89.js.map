{"mappings":"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","sources":["./src/js/lib/zipjs/zip.js"],"sourcesContent":["/*\n Copyright (c) 2013 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in\n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function(obj) {\n\t\"use strict\";\n\n\tvar ERR_BAD_FORMAT = \"File format is not recognized.\";\n\tvar ERR_CRC = \"CRC failed.\";\n\tvar ERR_ENCRYPTED = \"File contains encrypted entry.\";\n\tvar ERR_ZIP64 = \"File is using Zip64 (4gb+ file size).\";\n\tvar ERR_READ = \"Error while reading zip file.\";\n\tvar ERR_WRITE = \"Error while writing zip file.\";\n\tvar ERR_WRITE_DATA = \"Error while writing file data.\";\n\tvar ERR_READ_DATA = \"Error while reading file data.\";\n\tvar ERR_DUPLICATED_NAME = \"File already exists.\";\n\tvar CHUNK_SIZE = 512 * 1024;\n\t\n\tvar TEXT_PLAIN = \"text/plain\";\n\n\tvar appendABViewSupported;\n\ttry {\n\t\tappendABViewSupported = new Blob([ new DataView(new ArrayBuffer(0)) ]).size === 0;\n\t} catch (e) {\n\t}\n\n\tfunction Crc32() {\n\t\tthis.crc = -1;\n\t}\n\tCrc32.prototype.append = function append(data) {\n\t\tvar crc = this.crc | 0, table = this.table;\n\t\tfor (var offset = 0, len = data.length | 0; offset < len; offset++)\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xFF];\n\t\tthis.crc = crc;\n\t};\n\tCrc32.prototype.get = function get() {\n\t\treturn ~this.crc;\n\t};\n\tCrc32.prototype.table = (function() {\n\t\tvar i, j, t, table = []; // Uint32Array is actually slower than []\n\t\tfor (i = 0; i < 256; i++) {\n\t\t\tt = i;\n\t\t\tfor (j = 0; j < 8; j++)\n\t\t\t\tif (t & 1)\n\t\t\t\t\tt = (t >>> 1) ^ 0xEDB88320;\n\t\t\t\telse\n\t\t\t\t\tt = t >>> 1;\n\t\t\ttable[i] = t;\n\t\t}\n\t\treturn table;\n\t})();\n\t\n\t// \"no-op\" codec\n\tfunction NOOP() {}\n\tNOOP.prototype.append = function append(bytes, onprogress) {\n\t\treturn bytes;\n\t};\n\tNOOP.prototype.flush = function flush() {};\n\n\tfunction blobSlice(blob, index, length) {\n\t\tif (index < 0 || length < 0 || index + length > blob.size)\n\t\t\tthrow new RangeError('offset:' + index + ', length:' + length + ', size:' + blob.size);\n\t\tif (blob.slice)\n\t\t\treturn blob.slice(index, index + length);\n\t\telse if (blob.webkitSlice)\n\t\t\treturn blob.webkitSlice(index, index + length);\n\t\telse if (blob.mozSlice)\n\t\t\treturn blob.mozSlice(index, index + length);\n\t\telse if (blob.msSlice)\n\t\t\treturn blob.msSlice(index, index + length);\n\t}\n\n\tfunction getDataHelper(byteLength, bytes) {\n\t\tvar dataBuffer, dataArray;\n\t\tdataBuffer = new ArrayBuffer(byteLength);\n\t\tdataArray = new Uint8Array(dataBuffer);\n\t\tif (bytes)\n\t\t\tdataArray.set(bytes, 0);\n\t\treturn {\n\t\t\tbuffer : dataBuffer,\n\t\t\tarray : dataArray,\n\t\t\tview : new DataView(dataBuffer)\n\t\t};\n\t}\n\n\t// Readers\n\tfunction Reader() {\n\t}\n\n\tfunction TextReader(text) {\n\t\tvar that = this, blobReader;\n\n\t\tfunction init(callback, onerror) {\n\t\t\tvar blob = new Blob([ text ], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tblobReader = new BlobReader(blob);\n\t\t\tblobReader.init(function() {\n\t\t\t\tthat.size = blobReader.size;\n\t\t\t\tcallback();\n\t\t\t}, onerror);\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback, onerror) {\n\t\t\tblobReader.readUint8Array(index, length, callback, onerror);\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tTextReader.prototype = new Reader();\n\tTextReader.prototype.constructor = TextReader;\n\n\tfunction Data64URIReader(dataURI) {\n\t\tvar that = this, dataStart;\n\n\t\tfunction init(callback) {\n\t\t\tvar dataEnd = dataURI.length;\n\t\t\twhile (dataURI.charAt(dataEnd - 1) == \"=\")\n\t\t\t\tdataEnd--;\n\t\t\tdataStart = dataURI.indexOf(\",\") + 1;\n\t\t\tthat.size = Math.floor((dataEnd - dataStart) * 0.75);\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback) {\n\t\t\tvar i, data = getDataHelper(length);\n\t\t\tvar start = Math.floor(index / 3) * 4;\n\t\t\tvar end = Math.ceil((index + length) / 3) * 4;\n\t\t\tvar bytes = obj.atob(dataURI.substring(start + dataStart, end + dataStart));\n\t\t\tvar delta = index - Math.floor(start / 4) * 3;\n\t\t\tfor (i = delta; i < delta + length; i++)\n\t\t\t\tdata.array[i - delta] = bytes.charCodeAt(i);\n\t\t\tcallback(data.array);\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tData64URIReader.prototype = new Reader();\n\tData64URIReader.prototype.constructor = Data64URIReader;\n\n\tfunction BlobReader(blob) {\n\t\tvar that = this;\n\n\t\tfunction init(callback) {\n\t\t\tthat.size = blob.size;\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction readUint8Array(index, length, callback, onerror) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function(e) {\n\t\t\t\tcallback(new Uint8Array(e.target.result));\n\t\t\t};\n\t\t\treader.onerror = onerror;\n\t\t\ttry {\n\t\t\t\treader.readAsArrayBuffer(blobSlice(blob, index, length));\n\t\t\t} catch (e) {\n\t\t\t\tonerror(e);\n\t\t\t}\n\t\t}\n\n\t\tthat.size = 0;\n\t\tthat.init = init;\n\t\tthat.readUint8Array = readUint8Array;\n\t}\n\tBlobReader.prototype = new Reader();\n\tBlobReader.prototype.constructor = BlobReader;\n\n\t// Writers\n\n\tfunction Writer() {\n\t}\n\tWriter.prototype.getData = function(callback) {\n\t\tcallback(this.data);\n\t};\n\n\tfunction TextWriter(encoding) {\n\t\tvar that = this, blob;\n\n\t\tfunction init(callback) {\n\t\t\tblob = new Blob([], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tblob = new Blob([ blob, appendABViewSupported ? array : array.buffer ], {\n\t\t\t\ttype : TEXT_PLAIN\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback, onerror) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function(e) {\n\t\t\t\tcallback(e.target.result);\n\t\t\t};\n\t\t\treader.onerror = onerror;\n\t\t\treader.readAsText(blob, encoding);\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tTextWriter.prototype = new Writer();\n\tTextWriter.prototype.constructor = TextWriter;\n\n\tfunction Data64URIWriter(contentType) {\n\t\tvar that = this, data = \"\", pending = \"\";\n\n\t\tfunction init(callback) {\n\t\t\tdata += \"data:\" + (contentType || \"\") + \";base64,\";\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tvar i, delta = pending.length, dataString = pending;\n\t\t\tpending = \"\";\n\t\t\tfor (i = 0; i < (Math.floor((delta + array.length) / 3) * 3) - delta; i++)\n\t\t\t\tdataString += String.fromCharCode(array[i]);\n\t\t\tfor (; i < array.length; i++)\n\t\t\t\tpending += String.fromCharCode(array[i]);\n\t\t\tif (dataString.length > 2)\n\t\t\t\tdata += obj.btoa(dataString);\n\t\t\telse\n\t\t\t\tpending = dataString;\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback) {\n\t\t\tcallback(data + obj.btoa(pending));\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tData64URIWriter.prototype = new Writer();\n\tData64URIWriter.prototype.constructor = Data64URIWriter;\n\n\tfunction BlobWriter(contentType) {\n\t\tvar blob, that = this;\n\n\t\tfunction init(callback) {\n\t\t\tblob = new Blob([], {\n\t\t\t\ttype : contentType\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction writeUint8Array(array, callback) {\n\t\t\tblob = new Blob([ blob, appendABViewSupported ? array : array.buffer ], {\n\t\t\t\ttype : contentType\n\t\t\t});\n\t\t\tcallback();\n\t\t}\n\n\t\tfunction getData(callback) {\n\t\t\tcallback(blob);\n\t\t}\n\n\t\tthat.init = init;\n\t\tthat.writeUint8Array = writeUint8Array;\n\t\tthat.getData = getData;\n\t}\n\tBlobWriter.prototype = new Writer();\n\tBlobWriter.prototype.constructor = BlobWriter;\n\n\t/** \n\t * inflate/deflate core functions\n\t * @param worker {Worker} web worker for the task.\n\t * @param initialMessage {Object} initial message to be sent to the worker. should contain\n\t *   sn(serial number for distinguishing multiple tasks sent to the worker), and codecClass.\n\t *   This function may add more properties before sending.\n\t */\n\tfunction launchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror) {\n\t\tvar chunkIndex = 0, index, outputSize, sn = initialMessage.sn, crc;\n\n\t\tfunction onflush() {\n\t\t\tworker.removeEventListener('message', onmessage, false);\n\t\t\tonend(outputSize, crc);\n\t\t}\n\n\t\tfunction onmessage(event) {\n\t\t\tvar message = event.data, data = message.data, err = message.error;\n\t\t\tif (err) {\n\t\t\t\terr.toString = function () { return 'Error: ' + this.message; };\n\t\t\t\tonreaderror(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (message.sn !== sn)\n\t\t\t\treturn;\n\t\t\tif (typeof message.codecTime === 'number')\n\t\t\t\tworker.codecTime += message.codecTime; // should be before onflush()\n\t\t\tif (typeof message.crcTime === 'number')\n\t\t\t\tworker.crcTime += message.crcTime;\n\n\t\t\tswitch (message.type) {\n\t\t\t\tcase 'append':\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\toutputSize += data.length;\n\t\t\t\t\t\twriter.writeUint8Array(data, function() {\n\t\t\t\t\t\t\tstep();\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t} else\n\t\t\t\t\t\tstep();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'flush':\n\t\t\t\t\tcrc = message.crc;\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\toutputSize += data.length;\n\t\t\t\t\t\twriter.writeUint8Array(data, function() {\n\t\t\t\t\t\t\tonflush();\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t} else\n\t\t\t\t\t\tonflush();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'progress':\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index + message.loaded, size);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'importScripts': //no need to handle here\n\t\t\t\tcase 'newTask':\n\t\t\t\tcase 'echo':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('zip.js:launchWorkerProcess: unknown message: ', message);\n\t\t\t}\n\t\t}\n\n\t\tfunction step() {\n\t\t\tindex = chunkIndex * CHUNK_SIZE;\n\t\t\t// use `<=` instead of `<`, because `size` may be 0.\n\t\t\tif (index <= size) {\n\t\t\t\treader.readUint8Array(offset + index, Math.min(CHUNK_SIZE, size - index), function(array) {\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index, size);\n\t\t\t\t\tvar msg = index === 0 ? initialMessage : {sn : sn};\n\t\t\t\t\tmsg.type = 'append';\n\t\t\t\t\tmsg.data = array;\n\t\t\t\t\t\n\t\t\t\t\t// posting a message with transferables will fail on IE10\n\t\t\t\t\ttry {\n\t\t\t\t\t\tworker.postMessage(msg, [array.buffer]);\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\tworker.postMessage(msg); // retry without transferables\n\t\t\t\t\t}\n\t\t\t\t\tchunkIndex++;\n\t\t\t\t}, onreaderror);\n\t\t\t} else {\n\t\t\t\tworker.postMessage({\n\t\t\t\t\tsn: sn,\n\t\t\t\t\ttype: 'flush'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\toutputSize = 0;\n\t\tworker.addEventListener('message', onmessage, false);\n\t\tstep();\n\t}\n\n\tfunction launchProcess(process, reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror) {\n\t\tvar chunkIndex = 0, index, outputSize = 0,\n\t\t\tcrcInput = crcType === 'input',\n\t\t\tcrcOutput = crcType === 'output',\n\t\t\tcrc = new Crc32();\n\t\tfunction step() {\n\t\t\tvar outputData;\n\t\t\tindex = chunkIndex * CHUNK_SIZE;\n\t\t\tif (index < size)\n\t\t\t\treader.readUint8Array(offset + index, Math.min(CHUNK_SIZE, size - index), function(inputData) {\n\t\t\t\t\tvar outputData;\n\t\t\t\t\ttry {\n\t\t\t\t\t\toutputData = process.append(inputData, function(loaded) {\n\t\t\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\t\t\tonprogress(index + loaded, size);\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tonreaderror(e);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (outputData) {\n\t\t\t\t\t\toutputSize += outputData.length;\n\t\t\t\t\t\twriter.writeUint8Array(outputData, function() {\n\t\t\t\t\t\t\tchunkIndex++;\n\t\t\t\t\t\t\tsetTimeout(step, 1);\n\t\t\t\t\t\t}, onwriteerror);\n\t\t\t\t\t\tif (crcOutput)\n\t\t\t\t\t\t\tcrc.append(outputData);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunkIndex++;\n\t\t\t\t\t\tsetTimeout(step, 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (crcInput)\n\t\t\t\t\t\tcrc.append(inputData);\n\t\t\t\t\tif (onprogress)\n\t\t\t\t\t\tonprogress(index, size);\n\t\t\t\t}, onreaderror);\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\toutputData = process.flush();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tonreaderror(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (outputData) {\n\t\t\t\t\tif (crcOutput)\n\t\t\t\t\t\tcrc.append(outputData);\n\t\t\t\t\toutputSize += outputData.length;\n\t\t\t\t\twriter.writeUint8Array(outputData, function() {\n\t\t\t\t\t\tonend(outputSize, crc.get());\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t} else\n\t\t\t\t\tonend(outputSize, crc.get());\n\t\t\t}\n\t\t}\n\n\t\tstep();\n\t}\n\n\tfunction inflate(worker, sn, reader, writer, offset, size, computeCrc32, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = computeCrc32 ? 'output' : 'none';\n\t\tif (obj.zip.useWebWorkers) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\tcodecClass: 'Inflater',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new obj.zip.Inflater(), reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\tfunction deflate(worker, sn, reader, writer, level, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = 'input';\n\t\tif (obj.zip.useWebWorkers) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\toptions: {level: level},\n\t\t\t\tcodecClass: 'Deflater',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, 0, reader.size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new obj.zip.Deflater(), reader, writer, 0, reader.size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\tfunction copy(worker, sn, reader, writer, offset, size, computeCrc32, onend, onprogress, onreaderror, onwriteerror) {\n\t\tvar crcType = 'input';\n\t\tif (obj.zip.useWebWorkers && computeCrc32) {\n\t\t\tvar initialMessage = {\n\t\t\t\tsn: sn,\n\t\t\t\tcodecClass: 'NOOP',\n\t\t\t\tcrcType: crcType,\n\t\t\t};\n\t\t\tlaunchWorkerProcess(worker, initialMessage, reader, writer, offset, size, onprogress, onend, onreaderror, onwriteerror);\n\t\t} else\n\t\t\tlaunchProcess(new NOOP(), reader, writer, offset, size, crcType, onprogress, onend, onreaderror, onwriteerror);\n\t}\n\n\t// ZipReader\n\n\tfunction decodeASCII(str) {\n\t\tvar i, out = \"\", charCode, extendedASCII = [ '\\u00C7', '\\u00FC', '\\u00E9', '\\u00E2', '\\u00E4', '\\u00E0', '\\u00E5', '\\u00E7', '\\u00EA', '\\u00EB',\n\t\t\t\t'\\u00E8', '\\u00EF', '\\u00EE', '\\u00EC', '\\u00C4', '\\u00C5', '\\u00C9', '\\u00E6', '\\u00C6', '\\u00F4', '\\u00F6', '\\u00F2', '\\u00FB', '\\u00F9',\n\t\t\t\t'\\u00FF', '\\u00D6', '\\u00DC', '\\u00F8', '\\u00A3', '\\u00D8', '\\u00D7', '\\u0192', '\\u00E1', '\\u00ED', '\\u00F3', '\\u00FA', '\\u00F1', '\\u00D1',\n\t\t\t\t'\\u00AA', '\\u00BA', '\\u00BF', '\\u00AE', '\\u00AC', '\\u00BD', '\\u00BC', '\\u00A1', '\\u00AB', '\\u00BB', '_', '_', '_', '\\u00A6', '\\u00A6',\n\t\t\t\t'\\u00C1', '\\u00C2', '\\u00C0', '\\u00A9', '\\u00A6', '\\u00A6', '+', '+', '\\u00A2', '\\u00A5', '+', '+', '-', '-', '+', '-', '+', '\\u00E3',\n\t\t\t\t'\\u00C3', '+', '+', '-', '-', '\\u00A6', '-', '+', '\\u00A4', '\\u00F0', '\\u00D0', '\\u00CA', '\\u00CB', '\\u00C8', 'i', '\\u00CD', '\\u00CE',\n\t\t\t\t'\\u00CF', '+', '+', '_', '_', '\\u00A6', '\\u00CC', '_', '\\u00D3', '\\u00DF', '\\u00D4', '\\u00D2', '\\u00F5', '\\u00D5', '\\u00B5', '\\u00FE',\n\t\t\t\t'\\u00DE', '\\u00DA', '\\u00DB', '\\u00D9', '\\u00FD', '\\u00DD', '\\u00AF', '\\u00B4', '\\u00AD', '\\u00B1', '_', '\\u00BE', '\\u00B6', '\\u00A7',\n\t\t\t\t'\\u00F7', '\\u00B8', '\\u00B0', '\\u00A8', '\\u00B7', '\\u00B9', '\\u00B3', '\\u00B2', '_', ' ' ];\n\t\tfor (i = 0; i < str.length; i++) {\n\t\t\tcharCode = str.charCodeAt(i) & 0xFF;\n\t\t\tif (charCode > 127)\n\t\t\t\tout += extendedASCII[charCode - 128];\n\t\t\telse\n\t\t\t\tout += String.fromCharCode(charCode);\n\t\t}\n\t\treturn out;\n\t}\n\n\tfunction decodeUTF8(string) {\n\t\treturn decodeURIComponent(escape(string));\n\t}\n\n\tfunction getString(bytes) {\n\t\tvar i, str = \"\";\n\t\tfor (i = 0; i < bytes.length; i++)\n\t\t\tstr += String.fromCharCode(bytes[i]);\n\t\treturn str;\n\t}\n\n\tfunction getDate(timeRaw) {\n\t\tvar date = (timeRaw & 0xffff0000) >> 16, time = timeRaw & 0x0000ffff;\n\t\ttry {\n\t\t\treturn new Date(1980 + ((date & 0xFE00) >> 9), ((date & 0x01E0) >> 5) - 1, date & 0x001F, (time & 0xF800) >> 11, (time & 0x07E0) >> 5,\n\t\t\t\t\t(time & 0x001F) * 2, 0);\n\t\t} catch (e) {\n\t\t}\n\t}\n\n\tfunction readCommonHeader(entry, data, index, centralDirectory, onerror) {\n\t\tentry.version = data.view.getUint16(index, true);\n\t\tentry.bitFlag = data.view.getUint16(index + 2, true);\n\t\tentry.compressionMethod = data.view.getUint16(index + 4, true);\n\t\tentry.lastModDateRaw = data.view.getUint32(index + 6, true);\n\t\tentry.lastModDate = getDate(entry.lastModDateRaw);\n\t\tif ((entry.bitFlag & 0x01) === 0x01) {\n\t\t\tonerror(ERR_ENCRYPTED);\n\t\t\treturn;\n\t\t}\n\t\tif (centralDirectory || (entry.bitFlag & 0x0008) != 0x0008) {\n\t\t\tentry.crc32 = data.view.getUint32(index + 10, true);\n\t\t\tentry.compressedSize = data.view.getUint32(index + 14, true);\n\t\t\tentry.uncompressedSize = data.view.getUint32(index + 18, true);\n\t\t}\n\t\tif (entry.compressedSize === 0xFFFFFFFF || entry.uncompressedSize === 0xFFFFFFFF) {\n\t\t\tonerror(ERR_ZIP64);\n\t\t\treturn;\n\t\t}\n\t\tentry.filenameLength = data.view.getUint16(index + 22, true);\n\t\tentry.extraFieldLength = data.view.getUint16(index + 24, true);\n\t}\n\n\tfunction createZipReader(reader, callback, onerror) {\n\t\tvar inflateSN = 0;\n\n\t\tfunction Entry() {\n\t\t}\n\n\t\tEntry.prototype.getData = function(writer, onend, onprogress, checkCrc32) {\n\t\t\tvar that = this;\n\n\t\t\tfunction testCrc32(crc32) {\n\t\t\t\tvar dataCrc32 = getDataHelper(4);\n\t\t\t\tdataCrc32.view.setUint32(0, crc32);\n\t\t\t\treturn that.crc32 == dataCrc32.view.getUint32(0);\n\t\t\t}\n\n\t\t\tfunction getWriterData(uncompressedSize, crc32) {\n\t\t\t\tif (checkCrc32 && !testCrc32(crc32))\n\t\t\t\t\tonerror(ERR_CRC);\n\t\t\t\telse\n\t\t\t\t\twriter.getData(function(data) {\n\t\t\t\t\t\tonend(data);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction onreaderror(err) {\n\t\t\t\tonerror(err || ERR_READ_DATA);\n\t\t\t}\n\n\t\t\tfunction onwriteerror(err) {\n\t\t\t\tonerror(err || ERR_WRITE_DATA);\n\t\t\t}\n\n\t\t\treader.readUint8Array(that.offset, 30, function(bytes) {\n\t\t\t\tvar data = getDataHelper(bytes.length, bytes), dataOffset;\n\t\t\t\tif (data.view.getUint32(0) != 0x504b0304) {\n\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treadCommonHeader(that, data, 4, false, onerror);\n\t\t\t\tdataOffset = that.offset + 30 + that.filenameLength + that.extraFieldLength;\n\t\t\t\twriter.init(function() {\n\t\t\t\t\tif (that.compressionMethod === 0)\n\t\t\t\t\t\tcopy(that._worker, inflateSN++, reader, writer, dataOffset, that.compressedSize, checkCrc32, getWriterData, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\telse\n\t\t\t\t\t\tinflate(that._worker, inflateSN++, reader, writer, dataOffset, that.compressedSize, checkCrc32, getWriterData, onprogress, onreaderror, onwriteerror);\n\t\t\t\t}, onwriteerror);\n\t\t\t}, onreaderror);\n\t\t};\n\n\t\tfunction seekEOCDR(eocdrCallback) {\n\t\t\t// \"End of central directory record\" is the last part of a zip archive, and is at least 22 bytes long.\n\t\t\t// Zip file comment is the last part of EOCDR and has max length of 64KB,\n\t\t\t// so we only have to search the last 64K + 22 bytes of a archive for EOCDR signature (0x06054b50).\n\t\t\tvar EOCDR_MIN = 22;\n\t\t\tif (reader.size < EOCDR_MIN) {\n\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ZIP_COMMENT_MAX = 256 * 256, EOCDR_MAX = EOCDR_MIN + ZIP_COMMENT_MAX;\n\n\t\t\t// In most cases, the EOCDR is EOCDR_MIN bytes long\n\t\t\tdoSeek(EOCDR_MIN, function() {\n\t\t\t\t// If not found, try within EOCDR_MAX bytes\n\t\t\t\tdoSeek(Math.min(EOCDR_MAX, reader.size), function() {\n\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// seek last length bytes of file for EOCDR\n\t\t\tfunction doSeek(length, eocdrNotFoundCallback) {\n\t\t\t\treader.readUint8Array(reader.size - length, length, function(bytes) {\n\t\t\t\t\tfor (var i = bytes.length - EOCDR_MIN; i >= 0; i--) {\n\t\t\t\t\t\tif (bytes[i] === 0x50 && bytes[i + 1] === 0x4b && bytes[i + 2] === 0x05 && bytes[i + 3] === 0x06) {\n\t\t\t\t\t\t\teocdrCallback(new DataView(bytes.buffer, i, EOCDR_MIN));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\teocdrNotFoundCallback();\n\t\t\t\t}, function() {\n\t\t\t\t\tonerror(ERR_READ);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar zipReader = {\n\t\t\tgetEntries : function(callback) {\n\t\t\t\tvar worker = this._worker;\n\t\t\t\t// look for End of central directory record\n\t\t\t\tseekEOCDR(function(dataView) {\n\t\t\t\t\tvar datalength, fileslength;\n\t\t\t\t\tdatalength = dataView.getUint32(16, true);\n\t\t\t\t\tfileslength = dataView.getUint16(8, true);\n\t\t\t\t\tif (datalength < 0 || datalength >= reader.size) {\n\t\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treader.readUint8Array(datalength, reader.size - datalength, function(bytes) {\n\t\t\t\t\t\tvar i, index = 0, entries = [], entry, filename, comment, data = getDataHelper(bytes.length, bytes);\n\t\t\t\t\t\tfor (i = 0; i < fileslength; i++) {\n\t\t\t\t\t\t\tentry = new Entry();\n\t\t\t\t\t\t\tentry._worker = worker;\n\t\t\t\t\t\t\tif (data.view.getUint32(index) != 0x504b0102) {\n\t\t\t\t\t\t\t\tonerror(ERR_BAD_FORMAT);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treadCommonHeader(entry, data, index + 6, true, onerror);\n\t\t\t\t\t\t\tentry.commentLength = data.view.getUint16(index + 32, true);\n\t\t\t\t\t\t\tentry.directory = ((data.view.getUint8(index + 38) & 0x10) == 0x10);\n\t\t\t\t\t\t\tentry.offset = data.view.getUint32(index + 42, true);\n\t\t\t\t\t\t\tfilename = getString(data.array.subarray(index + 46, index + 46 + entry.filenameLength));\n\t\t\t\t\t\t\tentry.filename = ((entry.bitFlag & 0x0800) === 0x0800) ? decodeUTF8(filename) : decodeASCII(filename);\n\t\t\t\t\t\t\tif (!entry.directory && entry.filename.charAt(entry.filename.length - 1) == \"/\")\n\t\t\t\t\t\t\t\tentry.directory = true;\n\t\t\t\t\t\t\tcomment = getString(data.array.subarray(index + 46 + entry.filenameLength + entry.extraFieldLength, index + 46\n\t\t\t\t\t\t\t\t\t+ entry.filenameLength + entry.extraFieldLength + entry.commentLength));\n\t\t\t\t\t\t\tentry.comment = ((entry.bitFlag & 0x0800) === 0x0800) ? decodeUTF8(comment) : decodeASCII(comment);\n\t\t\t\t\t\t\tentries.push(entry);\n\t\t\t\t\t\t\tindex += 46 + entry.filenameLength + entry.extraFieldLength + entry.commentLength;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback(entries);\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tonerror(ERR_READ);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tclose : function(callback) {\n\t\t\t\tif (this._worker) {\n\t\t\t\t\tthis._worker.terminate();\n\t\t\t\t\tthis._worker = null;\n\t\t\t\t}\n\t\t\t\tif (callback)\n\t\t\t\t\tcallback();\n\t\t\t},\n\t\t\t_worker: null\n\t\t};\n\n\t\tif (!obj.zip.useWebWorkers)\n\t\t\tcallback(zipReader);\n\t\telse {\n\t\t\tcreateWorker('inflater',\n\t\t\t\tfunction(worker) {\n\t\t\t\t\tzipReader._worker = worker;\n\t\t\t\t\tcallback(zipReader);\n\t\t\t\t},\n\t\t\t\tfunction(err) {\n\t\t\t\t\tonerror(err);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\t// ZipWriter\n\n\tfunction encodeUTF8(string) {\n\t\treturn unescape(encodeURIComponent(string));\n\t}\n\n\tfunction getBytes(str) {\n\t\tvar i, array = [];\n\t\tfor (i = 0; i < str.length; i++)\n\t\t\tarray.push(str.charCodeAt(i));\n\t\treturn array;\n\t}\n\n\tfunction createZipWriter(writer, callback, onerror, dontDeflate) {\n\t\tvar files = {}, filenames = [], datalength = 0;\n\t\tvar deflateSN = 0;\n\n\t\tfunction onwriteerror(err) {\n\t\t\tonerror(err || ERR_WRITE);\n\t\t}\n\n\t\tfunction onreaderror(err) {\n\t\t\tonerror(err || ERR_READ_DATA);\n\t\t}\n\n\t\tvar zipWriter = {\n\t\t\tadd : function(name, reader, onend, onprogress, options) {\n\t\t\t\tvar header, filename, date;\n\t\t\t\tvar worker = this._worker;\n\n\t\t\t\tfunction writeHeader(callback) {\n\t\t\t\t\tvar data;\n\t\t\t\t\tdate = options.lastModDate || new Date();\n\t\t\t\t\theader = getDataHelper(26);\n\t\t\t\t\tfiles[name] = {\n\t\t\t\t\t\theaderArray : header.array,\n\t\t\t\t\t\tdirectory : options.directory,\n\t\t\t\t\t\tfilename : filename,\n\t\t\t\t\t\toffset : datalength,\n\t\t\t\t\t\tcomment : getBytes(encodeUTF8(options.comment || \"\"))\n\t\t\t\t\t};\n\t\t\t\t\theader.view.setUint32(0, 0x14000808);\n\t\t\t\t\tif (options.version)\n\t\t\t\t\t\theader.view.setUint8(0, options.version);\n\t\t\t\t\tif (!dontDeflate && options.level !== 0 && !options.directory)\n\t\t\t\t\t\theader.view.setUint16(4, 0x0800);\n\t\t\t\t\theader.view.setUint16(6, (((date.getHours() << 6) | date.getMinutes()) << 5) | date.getSeconds() / 2, true);\n\t\t\t\t\theader.view.setUint16(8, ((((date.getFullYear() - 1980) << 4) | (date.getMonth() + 1)) << 5) | date.getDate(), true);\n\t\t\t\t\theader.view.setUint16(22, filename.length, true);\n\t\t\t\t\tdata = getDataHelper(30 + filename.length);\n\t\t\t\t\tdata.view.setUint32(0, 0x504b0304);\n\t\t\t\t\tdata.array.set(header.array, 4);\n\t\t\t\t\tdata.array.set(filename, 30);\n\t\t\t\t\tdatalength += data.array.length;\n\t\t\t\t\twriter.writeUint8Array(data.array, callback, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tfunction writeFooter(compressedLength, crc32) {\n\t\t\t\t\tvar footer = getDataHelper(16);\n\t\t\t\t\tdatalength += compressedLength || 0;\n\t\t\t\t\tfooter.view.setUint32(0, 0x504b0708);\n\t\t\t\t\tif (typeof crc32 != \"undefined\") {\n\t\t\t\t\t\theader.view.setUint32(10, crc32, true);\n\t\t\t\t\t\tfooter.view.setUint32(4, crc32, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (reader) {\n\t\t\t\t\t\tfooter.view.setUint32(8, compressedLength, true);\n\t\t\t\t\t\theader.view.setUint32(14, compressedLength, true);\n\t\t\t\t\t\tfooter.view.setUint32(12, reader.size, true);\n\t\t\t\t\t\theader.view.setUint32(18, reader.size, true);\n\t\t\t\t\t}\n\t\t\t\t\twriter.writeUint8Array(footer.array, function() {\n\t\t\t\t\t\tdatalength += 16;\n\t\t\t\t\t\tonend();\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tfunction writeFile() {\n\t\t\t\t\toptions = options || {};\n\t\t\t\t\tname = name.trim();\n\t\t\t\t\tif (options.directory && name.charAt(name.length - 1) != \"/\")\n\t\t\t\t\t\tname += \"/\";\n\t\t\t\t\tif (files.hasOwnProperty(name)) {\n\t\t\t\t\t\tonerror(ERR_DUPLICATED_NAME);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfilename = getBytes(encodeUTF8(name));\n\t\t\t\t\tfilenames.push(name);\n\t\t\t\t\twriteHeader(function() {\n\t\t\t\t\t\tif (reader)\n\t\t\t\t\t\t\tif (dontDeflate || options.level === 0)\n\t\t\t\t\t\t\t\tcopy(worker, deflateSN++, reader, writer, 0, reader.size, true, writeFooter, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tdeflate(worker, deflateSN++, reader, writer, options.level, writeFooter, onprogress, onreaderror, onwriteerror);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\twriteFooter();\n\t\t\t\t\t}, onwriteerror);\n\t\t\t\t}\n\n\t\t\t\tif (reader)\n\t\t\t\t\treader.init(writeFile, onreaderror);\n\t\t\t\telse\n\t\t\t\t\twriteFile();\n\t\t\t},\n\t\t\tclose : function(callback) {\n\t\t\t\tif (this._worker) {\n\t\t\t\t\tthis._worker.terminate();\n\t\t\t\t\tthis._worker = null;\n\t\t\t\t}\n\n\t\t\t\tvar data, length = 0, index = 0, indexFilename, file;\n\t\t\t\tfor (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n\t\t\t\t\tfile = files[filenames[indexFilename]];\n\t\t\t\t\tlength += 46 + file.filename.length + file.comment.length;\n\t\t\t\t}\n\t\t\t\tdata = getDataHelper(length + 22);\n\t\t\t\tfor (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n\t\t\t\t\tfile = files[filenames[indexFilename]];\n\t\t\t\t\tdata.view.setUint32(index, 0x504b0102);\n\t\t\t\t\tdata.view.setUint16(index + 4, 0x1400);\n\t\t\t\t\tdata.array.set(file.headerArray, index + 6);\n\t\t\t\t\tdata.view.setUint16(index + 32, file.comment.length, true);\n\t\t\t\t\tif (file.directory)\n\t\t\t\t\t\tdata.view.setUint8(index + 38, 0x10);\n\t\t\t\t\tdata.view.setUint32(index + 42, file.offset, true);\n\t\t\t\t\tdata.array.set(file.filename, index + 46);\n\t\t\t\t\tdata.array.set(file.comment, index + 46 + file.filename.length);\n\t\t\t\t\tindex += 46 + file.filename.length + file.comment.length;\n\t\t\t\t}\n\t\t\t\tdata.view.setUint32(index, 0x504b0506);\n\t\t\t\tdata.view.setUint16(index + 8, filenames.length, true);\n\t\t\t\tdata.view.setUint16(index + 10, filenames.length, true);\n\t\t\t\tdata.view.setUint32(index + 12, length, true);\n\t\t\t\tdata.view.setUint32(index + 16, datalength, true);\n\t\t\t\twriter.writeUint8Array(data.array, function() {\n\t\t\t\t\twriter.getData(callback);\n\t\t\t\t}, onwriteerror);\n\t\t\t},\n\t\t\t_worker: null\n\t\t};\n\n\t\tif (!obj.zip.useWebWorkers)\n\t\t\tcallback(zipWriter);\n\t\telse {\n\t\t\tcreateWorker('deflater',\n\t\t\t\tfunction(worker) {\n\t\t\t\t\tzipWriter._worker = worker;\n\t\t\t\t\tcallback(zipWriter);\n\t\t\t\t},\n\t\t\t\tfunction(err) {\n\t\t\t\t\tonerror(err);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction resolveURLs(urls) {\n\t\tvar a = document.createElement('a');\n\t\treturn urls.map(function(url) {\n\t\t\ta.href = url;\n\t\t\treturn a.href;\n\t\t});\n\t}\n\n\tvar DEFAULT_WORKER_SCRIPTS = {\n\t\tdeflater: ['z-worker.js', 'deflate.js'],\n\t\tinflater: ['z-worker.js', 'inflate.js']\n\t};\n\tfunction createWorker(type, callback, onerror) {\n\t\tif (obj.zip.workerScripts !== null && obj.zip.workerScriptsPath !== null) {\n\t\t\tonerror(new Error('Either zip.workerScripts or zip.workerScriptsPath may be set, not both.'));\n\t\t\treturn;\n\t\t}\n\t\tvar scripts;\n\t\tif (obj.zip.workerScripts) {\n\t\t\tscripts = obj.zip.workerScripts[type];\n\t\t\tif (!Array.isArray(scripts)) {\n\t\t\t\tonerror(new Error('zip.workerScripts.' + type + ' is not an array!'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tscripts = resolveURLs(scripts);\n\t\t} else {\n\t\t\tscripts = DEFAULT_WORKER_SCRIPTS[type].slice(0);\n\t\t\tscripts[0] = (obj.zip.workerScriptsPath || '') + scripts[0];\n\t\t}\n\t\tvar worker = new Worker(scripts[0]);\n\t\t// record total consumed time by inflater/deflater/crc32 in this worker\n\t\tworker.codecTime = worker.crcTime = 0;\n\t\tworker.postMessage({ type: 'importScripts', scripts: scripts.slice(1) });\n\t\tworker.addEventListener('message', onmessage);\n\t\tfunction onmessage(ev) {\n\t\t\tvar msg = ev.data;\n\t\t\tif (msg.error) {\n\t\t\t\tworker.terminate(); // should before onerror(), because onerror() may throw.\n\t\t\t\tonerror(msg.error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (msg.type === 'importScripts') {\n\t\t\t\tworker.removeEventListener('message', onmessage);\n\t\t\t\tworker.removeEventListener('error', errorHandler);\n\t\t\t\tcallback(worker);\n\t\t\t}\n\t\t}\n\t\t// catch entry script loading error and other unhandled errors\n\t\tworker.addEventListener('error', errorHandler);\n\t\tfunction errorHandler(err) {\n\t\t\tworker.terminate();\n\t\t\tonerror(err);\n\t\t}\n\t}\n\n\tfunction onerror_default(error) {\n\t\tconsole.error(error);\n\t}\n\tobj.zip = {\n\t\tReader : Reader,\n\t\tWriter : Writer,\n\t\tBlobReader : BlobReader,\n\t\tData64URIReader : Data64URIReader,\n\t\tTextReader : TextReader,\n\t\tBlobWriter : BlobWriter,\n\t\tData64URIWriter : Data64URIWriter,\n\t\tTextWriter : TextWriter,\n\t\tcreateReader : function(reader, callback, onerror) {\n\t\t\tonerror = onerror || onerror_default;\n\n\t\t\treader.init(function() {\n\t\t\t\tcreateZipReader(reader, callback, onerror);\n\t\t\t}, onerror);\n\t\t},\n\t\tcreateWriter : function(writer, callback, onerror, dontDeflate) {\n\t\t\tonerror = onerror || onerror_default;\n\t\t\tdontDeflate = !!dontDeflate;\n\n\t\t\twriter.init(function() {\n\t\t\t\tcreateZipWriter(writer, callback, onerror, dontDeflate);\n\t\t\t}, onerror);\n\t\t},\n\t\tuseWebWorkers : true,\n\t\t/**\n\t\t * Directory containing the default worker scripts (z-worker.js, deflate.js, and inflate.js), relative to current base url.\n\t\t * E.g.: zip.workerScripts = './';\n\t\t */\n\t\tworkerScriptsPath : null,\n\t\t/**\n\t\t * Advanced option to control which scripts are loaded in the Web worker. If this option is specified, then workerScriptsPath must not be set.\n\t\t * workerScripts.deflater/workerScripts.inflater should be arrays of urls to scripts for deflater/inflater, respectively.\n\t\t * Scripts in the array are executed in order, and the first one should be z-worker.js, which is used to start the worker.\n\t\t * All urls are relative to current base url.\n\t\t * E.g.:\n\t\t * zip.workerScripts = {\n\t\t *   deflater: ['z-worker.js', 'deflate.js'],\n\t\t *   inflater: ['z-worker.js', 'inflate.js']\n\t\t * };\n\t\t */\n\t\tworkerScripts : null,\n\t};\n\n})(this);\n"],"names":["obj","Crc32","this","crc","NOOP","getDataHelper","byteLength","bytes","dataBuffer","dataArray","ArrayBuffer","Uint8Array","set","buffer","array","view","DataView","Reader","TextReader","text","blobReader","that","size","init","callback","onerror","blob","Blob","type","BlobReader","readUint8Array","index","length","Data64URIReader","dataURI","dataStart","dataEnd","charAt","indexOf","Math","floor","i","data","start","end","ceil","atob","substring","delta","charCodeAt","reader","FileReader","onload","e","target","result","readAsArrayBuffer","RangeError","slice","webkitSlice","mozSlice","msSlice","blobSlice","Writer","TextWriter","encoding","writeUint8Array","appendABViewSupported","getData","readAsText","Data64URIWriter","contentType","pending","dataString","String","fromCharCode","btoa","BlobWriter","launchWorkerProcess","worker","initialMessage","writer","offset","onprogress","onend","onreaderror","onwriteerror","onflush","removeEventListener","onmessage","outputSize","event","message","err","error","toString","sn","codecTime","crcTime","step","loaded","console","warn","chunkIndex","min","msg","postMessage","ex","addEventListener","launchProcess","process","crcType","crcInput","crcOutput","outputData","inputData","append","setTimeout","flush","get","inflate","computeCrc32","zip","useWebWorkers","codecClass","Inflater","deflate","level","options","Deflater","copy","decodeASCII","str","charCode","out","extendedASCII","decodeUTF8","string","decodeURIComponent","escape","getString","readCommonHeader","entry","centralDirectory","version","getUint16","bitFlag","compressionMethod","lastModDateRaw","getUint32","lastModDate","timeRaw","date","time","Date","getDate","crc32","compressedSize","uncompressedSize","filenameLength","extraFieldLength","createZipReader","Entry","inflateSN","prototype","checkCrc32","testCrc32","dataCrc32","setUint32","getWriterData","dataOffset","_worker","zipReader","getEntries","eocdrCallback","doSeek","eocdrNotFoundCallback","seekEOCDR","dataView","datalength","fileslength","filename","comment","entries","commentLength","directory","getUint8","subarray","push","close","terminate","createWorker","encodeUTF8","unescape","encodeURIComponent","getBytes","createZipWriter","dontDeflate","files","filenames","deflateSN","zipWriter","add","name","writeFooter","compressedLength","footer","header","writeFile","trim","hasOwnProperty","headerArray","setUint8","setUint16","getHours","getMinutes","getSeconds","getFullYear","getMonth","writeHeader","indexFilename","file","errorHandler","workerScripts","workerScriptsPath","scripts","Array","isArray","Error","urls","a","document","createElement","map","url","href","resolveURLs","DEFAULT_WORKER_SCRIPTS","Worker","ev","onerror_default","table","len","j","t","constructor","deflater","inflater","createReader","createWriter"],"version":3,"file":"zip.9230ce89.js.map"}